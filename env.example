# Media Extraction API - Environment Variables Example
# Copy this file to .env and configure as needed

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Base URL of your API (required)
API_URL=http://localhost:9000

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Port to listen on (default: 9000)
API_PORT=9000

# Address to bind to (default: all interfaces)
# API_LISTEN_ADDRESS=0.0.0.0

# Number of instances (default: 1, requires Redis if > 1)
# API_INSTANCE_COUNT=1

# Path to .env file for hot-reloading (optional)
# API_ENV_FILE=.env

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allow all origins (1 or 0, default: 1)
CORS_WILDCARD=1

# Allowed CORS origin (if CORS_WILDCARD=0)
# CORS_URL=https://example.com

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limit window in seconds (default: 60)
RATELIMIT_WINDOW=60

# Max requests per window (default: 20)
RATELIMIT_MAX=20

# Tunnel rate limit window (default: 60)
TUNNEL_RATELIMIT_WINDOW=60

# Tunnel max requests (default: 40)
TUNNEL_RATELIMIT_MAX=40

# Session rate limit window (default: 60)
SESSION_RATELIMIT_WINDOW=60

# Session max requests (default: 10)
SESSION_RATELIMIT_MAX=10

# =============================================================================
# REQUEST TIMEOUT
# =============================================================================

# Request timeout in milliseconds (default: 30000 = 30 seconds)
REQUEST_TIMEOUT=30000

# =============================================================================
# AUTHENTICATION
# =============================================================================

# API Key URL (optional, for API key authentication)
# API_KEY_URL=https://keys.example.com/api/keys

# Require authentication (1 or 0, default: 0)
# API_AUTH_REQUIRED=0

# Cloudflare Turnstile site key (for JWT session)
# TURNSTILE_SITEKEY=your_site_key

# Cloudflare Turnstile secret (for JWT session)
# TURNSTILE_SECRET=your_secret

# JWT signing secret (generate with: npm run token:jwt)
# JWT_SECRET=your_jwt_secret_here

# JWT lifetime in minutes (default: 120)
# JWT_EXPIRY=120

# =============================================================================
# SERVICES
# =============================================================================

# Comma-separated list of disabled services
# DISABLED_SERVICES=service1,service2

# =============================================================================
# YOUTUBE CONFIGURATION
# =============================================================================

# Custom InnerTube client
# CUSTOM_INNERTUBE_CLIENT=WEB

# YouTube session server URL
# YOUTUBE_SESSION_SERVER=https://session.example.com

# Session InnerTube client
# YOUTUBE_SESSION_INNERTUBE_CLIENT=WEB

# Allow better audio quality (1 or 0, default: 1)
YOUTUBE_ALLOW_BETTER_AUDIO=1

# =============================================================================
# PROCESSING
# =============================================================================

# Force local processing: "never", "session", "always" (default: "never")
FORCE_LOCAL_PROCESSING=never

# Enable deprecated YouTube HLS: "never", "key", "always" (default: "never")
ENABLE_DEPRECATED_YOUTUBE_HLS=never

# Maximum video duration in seconds (default: 10800 = 3 hours)
DURATION_LIMIT=10800

# Tunnel stream lifespan in seconds (default: 90)
TUNNEL_LIFESPAN=90

# Process priority (Unix only)
# PROCESSING_PRIORITY=0

# =============================================================================
# PROXY CONFIGURATION
# =============================================================================

# HTTP proxy URL
# HTTP_PROXY=http://proxy.example.com:8080

# HTTPS proxy URL
# HTTPS_PROXY=https://proxy.example.com:8080

# External proxy URL (deprecated, use HTTP_PROXY/HTTPS_PROXY instead)
# API_EXTERNAL_PROXY=http://proxy.example.com:8080

# Freebind CIDR range (Linux only)
# FREEBIND_CIDR=192.168.1.0/24

# =============================================================================
# STORAGE
# =============================================================================

# Redis URL for rate limiting (optional)
# API_REDIS_URL=redis://localhost:6379

# Path to cookie storage directory
# COOKIE_PATH=./cookies

# Path to download directory (default: ./downloads)
# DOWNLOAD_DIR=./downloads

# =============================================================================
# LOGGING
# =============================================================================

# Log level: debug, info, warn, error (default: info in production, debug in development)
# LOG_LEVEL=info

# Node environment: development, production
# NODE_ENV=production

# =============================================================================
# ERROR TRACKING (SENTRY)
# =============================================================================

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry environment
# SENTRY_ENVIRONMENT=production

# Sentry release version
# SENTRY_RELEASE=1.0.0

# Sentry sample rate (0.0 to 1.0, default: 1.0)
# SENTRY_SAMPLE_RATE=1.0

